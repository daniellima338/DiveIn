{% extends "layout/base.html" %}
{% block content %}
    <header class="masthead" style="background-image: url(' {{ url_for('static', filename='Images/diving1.jpg') }}')">
        <div class="overlay"></div>
        <div class="container position-relative px-4 px-lg-5">
            <div class="row gx-4 gx-lg-5 justify-content-center">
                <div class="col-md-10 col-lg-8 col-xl-7 shadow-lg rounded">
                    <div class="site-heading">
                        <h1>Diving Destinations</h1>
                        <span class="subheading">
                            Learn about the best diving spots in the world!
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div class="container">
        <div class="row">
            <h2>Diving Experiences</h2>
        </div>
        <div class="row">
            <p>
                Maybe you want to go diving with sea turtles in Thailand, or see corals in Indonesia. Whatever you
                prefer
                you can find various diving experiences in the world here. Not only can you find out what other people
                think of the different diving spots, you can also be a part of the community, and let others know about
                your
                experiences. In this way we can help each other get the best experiences with diving!
            </p>
        </div>

        <!-- search field -->
        <section>
            <form action="{{ url_for('search') }}" method="POST">
                <div class="row">
                    <div class="input-field mt-2">
                        <input type="text" name="query" id="query" minlength="3" class="validate"
                            placeholder="Search for a dive destination or a country here" required>
                        <label for="query"></label>
                    </div> 
                </div>
                <div class="row">
                    <a href="{{ url_for('dive_destinations')}}" class="col-1 btn"><i class="fas fa-eraser"></i></a>
                    <button type="submit" class="col-1 btn">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
            </form>
        </section>
        <section>
            <!-- Categories -->
            {% if destinations|length > 0 %}
            <div class="row mt-5">
                <div class="col-12">
                    <h2>Countries</h2>
                </div>
            </div>
            <!-- Europe -->
            <h3>Europe</h3>
            <div class="row mt-4">
                {% for destination in destinations %}
                    {% if destination.continent == "Europe" %}
                        <div class="col-sm-12 col-md-6 col-lg-4 mb-3">
                            <h4>{{ destination.country }}</h4>
                            <img class="img-dive-destinations" src="{{ destination.image_of_place }}" alt="Diving in various places">
                            <p><i>{{ destination.dive_description }}</i></p>
                            <p>created by: {{ destination.created_by }} </p>
                        </div>
                    {% endif %}
                {% endfor %}
            </div>

            <!-- Asia -->
            <h3>Asia</h3>
            <div class="row mt-4">
                {% for destination in destinations %}
                    {% if destination.continent == "Asia" %}
                        <div class="col-sm-12 col-md-6 col-lg-4 mb-3">
                            <h4>{{ destination.country }}</h4>
                            <img class="img-dive-destinations" src="{{ destination.image_of_place }}" alt="Diving in various places">
                            <p><i>{{ destination.dive_description }}</i></p>
                            <p>created by: {{ destination.created_by }} </p>
                        </div>
                    {% endif %}
                {% endfor %}
            </div>

            <!-- Africa -->
            <h3>Africa</h3>
            <div class="row  mt-4">
                {% for destination in destinations %}
                    {% if destination.continent == "Africa" %}
                        <div class="col-sm-12 col-md-6 col-lg-4 mb-3">
                            <h4>{{ destination.country }}</h4>
                            <img class="img-dive-destinations" src="{{ destination.image_of_place }}" alt="Diving in various places">
                            <p><i>{{ destination.dive_description }}</i></p>
                            <p>created by: {{ destination.created_by }} </p>
                        </div>
                    {% endif %}
                {% endfor %}
            </div>

            <!-- North America -->
            <h3>North America</h3>
            <div class="row mt-4">
                {% for destination in destinations %}
                    {% if destination.continent == "North America" %}
                        <div class="col-sm-12 col-md-6 col-lg-4 mb-3">
                            <h4>{{ destination.country }}</h4>
                            <img class="img-dive-destinations" src="{{ destination.image_of_place }}" alt="Diving in various places">
                            <p><i>{{ destination.dive_description }}</i></p>
                            <p>created by: {{ destination.created_by }} </p>
                        </div>
                    {% endif %}
                {% endfor %}
            </div>

            <!-- South America -->
            <h3>South America</h3>
            <div class="row mt-4">
                {% for destination in destinations %}
                    {% if destination.continent == "South America" %}
                        <div class="col-sm-12 col-md-6 col-lg-4 mb-3">
                            <h4>{{ destination.country }}</h4>
                            <img class="img-dive-destinations" src="{{ destination.image_of_place }}" alt="Diving in various places">
                            <p><i>{{ destination.dive_description }}</i></p>
                            <p>created by: {{ destination.created_by }} </p>
                        </div>
                    {% endif %}
                {% endfor %}
            </div>

            <!-- Australia -->
            <h3>Australia</h3>
            <div class="row mt-4">
                {% for destination in destinations %}
                    {% if destination.continent == "Australia" %}
                        <div class="col-sm-12 col-md-6 col-lg-4 mb-3">
                            <h4>{{ destination.country }}</h4>
                            <img class="img-dive-destinations" id="img_tag" onerror="this.onerror=null;this.src='https://placeimg.com/300/300/nature';" src="{{ destination.image_of_place }}" alt="Diving in various places">
                            <p><i>{{ destination.dive_description }}</i></p>
                            <p>created by: {{ destination.created_by }} </p>
                        </div>
                    {% endif %}
                {% endfor %}
            </div>
            {% else %}
                <h2 class="text-danger">No Results Found</h2>
            {% endif %}
        </section>
    </div>

{% endblock %}